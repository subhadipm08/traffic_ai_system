<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>AI Traffic Management</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
  <h1>AI Traffic Management System</h1>

  <div class="intersection">
    
    <div class="lane-container north">
      <h3>North (NS)</h3>
      <div class="signal" id="NS"></div>
      <div class="count" id="count-NS">(0 vehicles)</div>
      <img src="{{ url_for('video_feed', lane='NS') }}" alt="North Lane Feed">
    </div>

    <div class="lane-container south">
      <h3>South (SN)</h3>
      <div class="signal" id="SN"></div>
      <div class="count" id="count-SN">(0 vehicles)</div>
      <img src="{{ url_for('video_feed', lane='SN') }}" alt="South Lane Feed">
    </div>
    
    <div class="lane-container east">
      <h3>East (EW)</h3>
      <div class="signal" id="EW"></div>
      <div class="count" id="count-EW">(0 vehicles)</div>
      <img src="{{ url_for('video_feed', lane='EW') }}" alt="East Lane Feed">
    </div>

    <div class="lane-container west">
      <h3>West (WE)</h3>
      <div class="signal" id="WE"></div>
      <div class="count" id="count-WE">(0 vehicles)</div>
      <img src="{{ url_for('video_feed', lane='WE') }}" alt="West Lane Feed">
    </div>
  </div>

  <h2>Upload Lane Videos</h2>
  <div class="upload-forms">
    <form action="/upload" method="post" enctype="multipart/form-data">
      <label>NS Lane: <input type="file" name="video" accept="video/mp4"></label>
      <input type="hidden" name="lane" value="NS">
      <button type="submit">Upload</button>
    </form>
    <form action="/upload" method="post" enctype="multipart/form-data">
      <label>SN Lane: <input type="file" name="video" accept="video/mp4"></label>
      <input type="hidden" name="lane" value="SN">
      <button type="submit">Upload</button>
    </form>
    <form action="/upload" method="post" enctype="multipart/form-data">
      <label>EW Lane: <input type="file" name="video" accept="video/mp4"></label>
      <input type="hidden" name="lane" value="EW">
      <button type="submit">Upload</button>
    </form>
    <form action="/upload" method="post" enctype="multipart/form-data">
      <label>WE Lane: <input type="file" name="video" accept="video/mp4"></label>
      <input type="hidden" name="lane" value="WE">
      <button type="submit">Upload</button>
    </form>
  </div>
  
  <script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>
</html>

